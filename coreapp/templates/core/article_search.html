{% extends 'core/base.html' %}
{% block title %}Search Articles{% endblock %}
{% block content %}
<h1>Search Articles</h1>
<form method="get" class="mb-3">
  <div class="input-group">
    <input type="text" name="query" class="form-control" placeholder="Search in article body..." value="{{ query }}" />
    <button class="btn btn-primary" type="submit">Search</button>
  </div>
</form>
{% if results %}
<table class="table table-striped">
  <thead><tr><th>ID</th><th>Title</th><th>Body</th><th>Author</th><th></th></tr></thead>
  <tbody>{% for a in results %}<tr><td>{{ a.id }}</td><td>{{ a.title }}</td><td>{{ a.body }}</td><td>{{ a.author.name }}</td><td>
    <a href="{% url 'article_update' a.id %}" class="btn btn-sm btn-warning">Edit</a>
    <a href="{% url 'article_details' a.id %}" class="btn btn-sm btn-info">Details</a>
    <a href="{% url 'article_delete' a.id %}" class="btn btn-sm btn-danger">Delete</a>
  </td></tr>{% endfor %}</tbody>
</table>
{% else %}
<p>No matching articles found.</p>
{% endif %}
{% endblock %}